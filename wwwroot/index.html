<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FormsClone</title>
    <base href="/" />

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è CSS -->
    <link rel="stylesheet" href="css/app.css" />

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º -->
    <link href="css/light-theme.css" rel="stylesheet" id="light-theme" />
    <link href="css/dark-theme.css" rel="stylesheet" id="dark-theme" disabled />

    <!-- –ò–∫–æ–Ω–∫–∞ -->
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="FormsClone.styles.css" rel="stylesheet" />
    <link href="manifest.webmanifest" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />

    <meta name="description" content="–°–æ–∑–¥–∞–π—Ç–µ, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º—ã —Å –ø–æ–º–æ—â—å—é FormsClone." />
    <meta name="keywords" content="—Ñ–æ—Ä–º—ã, —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º, –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ä–º, FormsClone" />
    <meta name="author" content="–í–∞—à–µ –ò–º—è" />
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bootstrap JS (–≤–∫–ª—é—á–∞–µ—Ç Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>
    <script src="js/toggleTheme.js"></script>

    <script src="_framework/blazor.webassembly.js"></script>
    <script>navigator.serviceWorker.register('service-worker.js');</script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const lightThemeLink = document.getElementById('light-theme');
            const darkThemeLink = document.getElementById('dark-theme');

            function setTheme(theme) {
                if (theme === 'dark') {
                    lightThemeLink.disabled = true;
                    darkThemeLink.disabled = false;
                } else {
                    lightThemeLink.disabled = false;
                    darkThemeLink.disabled = true;
                }
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç–µ–º—ã –≤ localStorage
            const preferredTheme = localStorage.getItem('theme') || 'light';
            setTheme(preferredTheme);

            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
            const themeToggleButton = document.getElementById('theme-toggle-button');
            if (themeToggleButton) {
                themeToggleButton.onclick = function () {
                    const currentTheme = lightThemeLink.disabled ? 'light' : 'dark';
                    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                    localStorage.setItem('theme', newTheme);
                    setTheme(newTheme);
                    console.log("–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã:", newTheme);
                };
            } else {
                console.error("–ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!");
            }
        });
    </script>
</body>

</html>
